import{_ as U,a as S,u as C,r as b,s as j,b as p,o as a,c as o,h as z,w as k,e as P,t as D,j as r,d as n,n as s,k as l,f as R,m as B}from"./index.da9d4aaa.js";import{u as F,r as c,e as T}from"./index.esm.7d48e291.js";const M={props:{registrationID:String,adminView:Boolean,detailsView:Boolean},setup(h){const i=S(),v=C(),e=b(R.get("organizations")||[]),{registration:y}=j(S()),V=F({organization:{required:c},branch:{required:c},primarycontact:{required:c},primaryemail:{required:c,email:T},financialcontact:{required:c},clientministry:{required:c},respcode:{required:c},serviceline:{required:c},stob:{required:c},project:{required:c}},y);let f=b(!1),u=b(!1);const d=b({severity:null,text:""}),m=async function(g){if(g.preventDefault(),!!await this.v$.$validate())try{f.value=!0;const x=v.getUser.username;this.registration.registrar=this.registration.registrar!==null||this.registration.registrar.length!==0?this.registration.registrar:x.username,i.registerFinancialInformation(this.registration).then(w=>{console.log(w),this.$forceUpdate,f.value=!1,u.value=!0,d.value={severity:"success",text:"Registration Updated!"}})}catch(x){f.value=!1,console.warn(x),u.value=!0,d.value={severity:"error",text:"Registration could not be updated."}}finally{setTimeout(()=>u.value=!1,1500),h.registrationID||B.push("/create/registration/")}},_=function(g){g.preventDefault(),this.registration.organization="",this.registration.branch="",this.registration.primarycontact="",this.registration.primaryemail="",this.registration.financialcontact="",this.registration.clientministry=null,this.registration.respcode=null,this.registration.serviceline=null,this.registration.stob=null,this.registration.project=null},t=async function(){const g=v.getUser;return i.$reset,h.registrationID?await i.fillOnlyRegistration(h.registrationID):h.adminView?await i.fillAllRegistrations():await i.fill(g.guid)?i.fill(g.guid):[]};return t(),{loading:f,message:u,messageText:d,registration:y,v$:V,organizations:e,fillList:t,onSubmit:m,onReset:_}}},N={class:"financial-form-selections"},G=r("h3",{class:"form-header"},"Organizational Information",-1),O=r("div",{class:"form-break"},null,-1),E={class:"form-item dropdown"},L=r("label",{for:"organization"},"Organization:",-1),A={key:0,class:"p-error",id:"organization-help"},q={class:"form-item text-field"},H=r("label",{for:"branch"},"Branch:",-1),J={key:0,class:"p-error",id:"branch-help"},K=r("div",{class:"form-break"},null,-1),Q=r("h3",{class:"form-header"},"Contact Information",-1),W=r("div",{class:"form-break"},null,-1),X={class:"form-item text-field"},Y=r("label",{for:"primarycontact"},"Primary Contact:",-1),Z={key:0,class:"p-error",id:"primarycontact-help"},$={class:"form-item text-field"},ee=r("label",{for:"primaryemail"},"Primary Contact Email:",-1),ie={key:0,id:"primaryemail-help",class:"p-error"},re={class:"form-item text-field"},te=r("label",{for:"financialcontact"},"Financial Contact:",-1),ae={key:0,class:"p-error",id:"financialcontact-help"},oe=r("div",{class:"form-break"},null,-1),ne=r("h3",{class:"form-header"},"Financial Information",-1),se=r("div",{class:"form-break"},null,-1),le={class:"form-item number-field"},ce=r("label",{for:"clientministry"},"Client/Ministry Number:",-1),de={key:0,id:"clientministry-help",class:"p-error"},me={class:"form-item number-field"},fe=r("label",{for:"respcode"},"RESP Code:",-1),ue={key:0,id:"respcode-help",class:"p-error"},ge={class:"form-item number-field"},pe=r("label",{for:"serviceline"},"Service Line:",-1),he={key:0,id:"serviceline-help",class:"p-error"},_e={class:"form-item number-field"},be=r("label",{for:"stob"},"STOB:",-1),ve={key:0,id:"stob-help",class:"p-error"},ye={class:"form-item number-field"},Ve=r("label",{for:"project"},"Project:",-1),xe={key:0,id:"project-help",class:"p-error"},ke={class:"submission-form-buttons"},Pe=P("Submit"),Se=P("Reset");function ze(h,i,v,e,y,I){const V=p("ProgressSpinner"),f=p("PrimeMessage"),u=p("DropDown"),d=p("InputText"),m=p("InputNumber"),_=p("PrimeButton");return a(),o("div",null,[e.loading?(a(),z(V,{key:0})):e.message?(a(),z(f,{key:1,severity:e.messageText.severity,closable:!1},{default:k(()=>[P(D(e.messageText.text),1)]),_:1},8,["severity"])):(a(),o("form",{key:2,class:"financial-registration-form",onSubmit:i[10]||(i[10]=(...t)=>e.onSubmit&&e.onSubmit(...t)),onReset:i[11]||(i[11]=(...t)=>e.onReset&&e.onReset(...t))},[r("div",N,[G,O,r("div",E,[L,n(u,{class:s({"p-invalid":e.v$.organization.$error}),id:"organization",modelValue:e.registration.organization,"onUpdate:modelValue":i[0]||(i[0]=t=>e.registration.organization=t),options:e.organizations,optionLabel:"text",optionValue:"value",placeholder:"Select an Organization"},null,8,["class","modelValue","options"]),e.v$.organization.$error?(a(),o("small",A,"Please select your organization.")):l("",!0)]),r("div",q,[H,n(d,{class:s({"p-invalid":e.v$.branch.$error}),id:"branch",type:"branch","aria-describedby":"branch-help",modelValue:e.registration.branch,"onUpdate:modelValue":i[1]||(i[1]=t=>e.registration.branch=t),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),e.v$.branch.$error?(a(),o("small",J,"Please enter your branch.")):l("",!0)]),K,Q,W,r("div",X,[Y,n(d,{class:s({"p-invalid":e.v$.primarycontact.$error}),id:"primarycontact",type:"primarycontact","aria-describedby":"primarycontact-help",modelValue:e.registration.primarycontact,"onUpdate:modelValue":i[2]||(i[2]=t=>e.registration.primarycontact=t),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),e.v$.primarycontact.$error?(a(),o("small",Z,"Please enter the name of the Primary Contact for this registration.")):l("",!0)]),r("div",$,[ee,n(d,{class:s({"p-invalid":e.v$.primaryemail.$error}),id:"primaryemail",type:"primaryemail","aria-describedby":"primaryemail-help",modelValue:e.registration.primaryemail,"onUpdate:modelValue":i[3]||(i[3]=t=>e.registration.primaryemail=t),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),e.v$.primaryemail.$error?(a(),o("small",ie,"Email Field is Incorrect.")):l("",!0)]),r("div",re,[te,n(d,{class:s({"p-invalid":e.v$.financialcontact.$error}),id:"financialcontact",type:"financialcontact","aria-describedby":"financialcontact-help",modelValue:e.registration.financialcontact,"onUpdate:modelValue":i[4]||(i[4]=t=>e.registration.financialcontact=t),modelModifiers:{trim:!0}},null,8,["class","modelValue"]),e.v$.financialcontact.$error?(a(),o("small",ae,"Please enter the name of the Financial Contact for this registration.")):l("",!0)]),oe,ne,se,r("div",le,[ce,n(m,{class:s({"p-invalid":e.v$.clientministry.$error}),id:"clientministry",modelValue:e.registration.clientministry,"onUpdate:modelValue":i[5]||(i[5]=t=>e.registration.clientministry=t),min:100,max:999,"aria-placeholder":"3 digit number",placeholder:"3 digit number",useGrouping:!1},null,8,["class","modelValue"]),e.v$.clientministry.$error?(a(),o("small",de,"Please enter the 3-digit client/ministry number.")):l("",!0)]),r("div",me,[fe,n(m,{class:s({"p-invalid":e.v$.respcode.$error}),id:"respcode",modelValue:e.registration.respcode,"onUpdate:modelValue":i[6]||(i[6]=t=>e.registration.respcode=t),min:1e4,max:99999,"aria-placeholder":"5 digit number",placeholder:"5 digit number",useGrouping:!1},null,8,["class","modelValue"]),e.v$.respcode.$error?(a(),o("small",ue,"Please enter the 5-digit RESP Code number.")):l("",!0)]),r("div",ge,[pe,n(m,{class:s({"p-invalid":e.v$.serviceline.$error}),id:"serviceline",modelValue:e.registration.serviceline,"onUpdate:modelValue":i[7]||(i[7]=t=>e.registration.serviceline=t),min:1e4,max:99999,"aria-placeholder":"5 digit number",placeholder:"5 digit number",useGrouping:!1},null,8,["class","modelValue"]),e.v$.serviceline.$error?(a(),o("small",he,"Please enter the 5-digit Service Line number.")):l("",!0)]),r("div",_e,[be,n(m,{class:s({"p-invalid":e.v$.stob.$error}),id:"stob",modelValue:e.registration.stob,"onUpdate:modelValue":i[8]||(i[8]=t=>e.registration.stob=t),min:1e3,max:9999,"aria-placeholder":"4 digit number",placeholder:"4 digit number",useGrouping:!1},null,8,["class","modelValue"]),e.v$.stob.$error?(a(),o("small",ve,"Please enter the 4-digit STOB number.")):l("",!0)]),r("div",ye,[Ve,n(m,{class:s({"p-invalid":e.v$.project.$error}),id:"project",modelValue:e.registration.project,"onUpdate:modelValue":i[9]||(i[9]=t=>e.registration.project=t),min:1e6,max:9999999,"aria-placeholder":"7 digit number",placeholder:"7 digit number",useGrouping:!1},null,8,["class","modelValue"]),e.v$.project.$error?(a(),o("small",xe,"Please enter the 7-digit project number.")):l("",!0)])]),r("div",ke,[n(_,{type:"submit",label:"primary",class:"p-button-raised"},{default:k(()=>[Pe]),_:1}),n(_,{type:"reset",label:"danger",class:"p-button-raised p-button-danger"},{default:k(()=>[Se]),_:1})])],32))])}var Ce=U(M,[["render",ze]]);export{Ce as I};
